/* style.scss */

@import 'reset';
@import 'variables';
@import 'mixins';

$min-width: 1024px;
$min-height: 640px;
$width: 1280px;

$min-height: 640px;

$blue: #0074c8;
$dark-blue: #003763;


*, *:before, *:after {
    box-sizing:border-box;
    -moz-box-sizing:border-box;
    -webkit-box-sizing:border-box;
    -ms-box-sizing:border-box;
}


textarea, input, select { outline: none; }

.clear-fix {

    &:after {
        display:block;
        clear:both;
        content:"";
    }
}


a, a:visited {
    text-decoration:none;
    color:inherit;
}

html, body {
    width:100%;
    height:100%;
    background:$black;
    color: $white;
    font-family: 'Helvetica', sans-serif;
    line-height:1.2;
}


@keyframes showLogoMenu {
    0%{
        opacity: 0;
        transform: translate(0, -44px);
    }
    100%{
        opacity: 1;
        transform: translate(0, 0)
    }
}

.ergo-logo, .menu-icon {
    position: fixed;
    top: 40px;
    z-index: 100;

    @include css-animate(showLogoMenu, .5s, 1, 0, ease);
}

.ergo-logo {
    left: 40px;
}

.menu-icon{
    right: 56px;
}  


.sub-nav {
    position: fixed;
    left: 50%;
    bottom: 2%;
    z-index: 100;
    transform: translate(-50%, 44px);
    transition: transform 1s;

    &.active {
        transform: translate(-50%, 0);
    }
} 

.sub-nav__item {
    width: 20px;
    height: 20px;
    display: inline-block;
    border-radius: 50%;
    cursor: pointer;
    position: relative;
    opacity: 0.5;
    margin: 0 2px;

    &:before {
        content:"";
        position:absolute;
        border:4px solid $white;
        width:8px;
        height:8px;
        top:50%;
        left:50%;
        border-radius:50%;
        transform: translate(-50%, -50%);
        transition: all .25s;
    }

    &:hover, &.active {
        opacity: 1;
        &:before {
            width: 20px;
            height: 20px;
        }
    }
}

.view {
    position: fixed;
    width:100%;
    height:100%;
    z-index: 1;
    overflow: hidden;
}

.scroll-horizontal, .scene-scroll {
    width: 10000px;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
}

.section {
    width: 80vw;
    height: 100%;
    width: 100%;
    float: left;
    position: relative;
}

.bg {
    width: 125%;
    height: 100%;
    position: absolute;
    left: -25%;
    top:0;
    min-height: $min-height;
}

.linesA__segmented {
    position: absolute;
    top: 50%;
    left: 27%; 

    .lines__svg {
        left: -45%;
        top: 55px;
    }
}

.linesB__segmented {
    position: absolute;
    top: 50%;
    left: 50%; 
    .lines__svg {
        left: -10%;
        top: 55px;
    }
}

.lines__single {
    position: absolute;
    top: 50%;
    left: 38%;

    .lines__svg {
        left: -39%;
        top: 50px;
    }

    
}

.lines__dynamic {
    position: absolute;
    top: 50%;
    left: 38%;

    .lines__svg {
        left: -39%;
        top: 45px;
    }

    
}

.lines-group {
    &.active {
        .line-swiggly {
            stroke-dashoffset: 0;
        }
    }
}

.lines__svg {
    fill: none;
    position: relative;
    
}
.line-swiggly {
    stroke: $blue;  
    vector-effect: non-scaling-stroke;
    transition: all 1s;
    stroke-dasharray: 640px;
    stroke-dashoffset: -640px;

    &.reverse-direction {
        stroke-dashoffset: 640px;
    }
}

.svg__mask {
    rect {
        fill: $black;

        transition: fill .25s;
    }

    &.showSingleA {
        rect.person__2, rect.person__3, rect.person__5, rect.person__6, rect.person__7, rect.person__8, rect.person__10, rect.person__13, rect.person__14, rect.person__15, rect.person__16 {
            fill: $white;
        }
    }

    &.showSegmentedA {
        rect.person__1, rect.person__2, rect.person__3, rect.person__4, rect.person__7, rect.person__8, rect.person__10 {
            fill: $white;
        }
    }

    &.showSegmentedAandB {
        rect.person__1, rect.person__2, rect.person__3, rect.person__4, rect.person__7, rect.person__8, rect.person__10, rect.person__9, rect.person__11, rect.person__12, rect.person__14, rect.person__15, rect.person__16 {
            fill: $white;
        }
    }


}

.section__viewport {
    width: 80%;
    height: 100%;
    position: absolute;
    overflow: hidden;
}


.scene {
    width: 100%;
    height: 100%;
    position: relative;
    min-width: $min-width;
    min-height: $min-height;
    float: left;
}

.line__1 {
    width: 500px;
    height: 0px;
    border-top: 8px solid $white;
    position: absolute;
    top: 50%;
    left: 25%;

}

.position-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

@keyframes showHomeTitle {
    0%{
        transform: translate(-25%, 0);
        opacity: 0;
    }
    100%{
        transform: translate(0, 0);
        opacity: 1;
    }
}

@keyframes fadeIn {
    0%{
        opacity: 0;
    }
    100%{
        opacity: 1;
    }
}



.home__title__line {
    opacity: 0;

    &.active {
        opacity: 1;
    }

    .animateIntro & {

        @include css-animate(showHomeTitle, .5s, 1, .5s, ease);

        &:nth-child(2) {
            @include css-animate(showHomeTitle, .5s, 1, .75s, ease);
        }
        &:nth-child(3) {
            @include css-animate(showHomeTitle, .5s, 1, .85s, ease);
        }
        &:nth-child(4) {
            @include css-animate(showHomeTitle, .5s, 1, 1.05s, ease);
        }
        &:nth-child(5) {
            @include css-animate(fadeIn, .5s, 1,  2s, ease);
        }
    }
}

@keyframes blinkBlue {
    0%{
        background-color: rgba($blue, 0);
        fill: $white;
    }
    40%{
       background-color: rgba($blue, 1);
       fill: $white;
       border-color: $blue;
    }

    60%{
       background-color: rgba($blue, 1);
       fill: $white;
       border-color: $blue;
    }
    100%{
       background-color: rgba($white, 1); 
       fill: $blue;
    }
}

.home__title__circle {
    position: absolute;
    top: 50%;
    right: -96px;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    transform: translateY(-50%);
    border: 1px solid $white;
    opacity: 0;
    fill: $white;

    .animateIntro & {
        @include css-animate(fadeIn, .5s, 1,  2s, ease);
    }

    &.active {
        opacity: 1;
        cursor: pointer;
        background-color: $white;
        fill: $blue;

        &:active {
            background-color: rgba($blue, 1);
            fill: $white;
            border-color: $blue;
        }

    }

    .animateIntro &.active {
        @include css-animate(blinkBlue, 1s, 1,  0, ease);
    }

    
}

.home__title__arrow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-48%, -49.5%);
}


.layout-table {
    width: 100%;
    height: 100%;

    td {
        position: relative;
    }
}

.spacer {
    width: 100%;
    height: 1px;
}

.home__title__cell {
    width: 836px;
}

.about__dig-rev__cell {
    width: 633px;
}

.about__dig-rev__box-wrapper {
    position: absolute;
    width: 647px;
    height: 100%;
    top:0;
    left:-5px;
    overflow: hidden;
    
}

.box-wrapper__inner {
    position: relative;
    width: 646px;
    height: 100%;
}

.about__dig-rev__box1 {
    width: 456px;
    height: 456px;
    border: 1px solid $blue;
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: 0 0;
    z-index: 10;
    transform: rotate(45deg) translate(-50%, -50%);

    &:before, &:after {
        width:10px;
        height:10px;
        background: #132b3f;
        content:"";
        position: absolute;
        bottom:0;
        left: 0;
    }

    &:after {
        bottom: auto;
        left: auto;
        top: 0;
        right: 0;
    }
}

.about__dig-rev__box2 {
    width: 456px;
    height: 456px;
    border: 1px solid $blue;
    transform: rotate(30deg) translate(-50%, -50%);
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: 0 0;
    z-index: 10;
    opacity:.4;
}

.main-line__white {
    position: absolute;
    top: 50%;
    width: 0;
    height: 10px;
    transform: translateY(-50%);
    background: $white;
}

.main-line__blue {
    position: absolute;
    top: 50%;
    width: 0;
    height: 2px;
    transform: translateY(-50%);
    background: $blue;
}


.about__copy__wrap {
    position:absolute;
    width: 800px;
    text-align: center;
    top: 50%;
    left: 50%;
    transform: translate(-50%, - 100%);
    padding-bottom: 32px;

    img {
        display: inline-block;
        position: relative;
    }
}

.line-diagonal-group {
    width: 140px;
    height: 0;
    overflow: hidden;
    position: absolute;
    top: 50%;
    transform: translateX(-14px);

    &:before {
        content:"";
        position: absolute;
        width:15px;
        background: $white;
        height: 40px;
        transform: skew(45deg) translateX(25px);
    }
}

.about__single__diagonal {
    left: 39%;
}

.about__segmented__diagonal {
    left: 28%;
}

.about__segmented__diagonal2 {
    left: 51%;
}



.about__dynamic__dia__wrap {
    position: absolute;
    width: 80%;
    height: 50px;
    left: 54%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: width .25s;


    @media all and (min-width: 1100px) {
        width: 72%;
        left: 52%;
    }

    @media all and (min-width: 1148px) {
        width: 66%;
        left: 51%;
    }

    @media all and (min-width: 1280px) {
        width: 58%;
        left: 50%;
    }
}

.blue-line-responsive-wrap {
    position: absolute;
    width: 15%;
    height: 100%;

    @media all and (min-width: 1100px) {
        width: 16.8%;
    }

    @media all and (min-width: 1148px) {
        width: 18.7%;
    }

    @media all and (min-width: 1280px) {
        width: 21.5%;
    }

    &.ender {
        
        left: 85%;

        @media all and (min-width: 1100px) {
            left: 85.2%;
        }

        @media all and (min-width: 1148px) {
            left: 81.3%;
        }

        @media all and (min-width: 1280px) {
            left: 78.9%;
        }
    }
}


.about__dynamic__diagonal1 {
    left: 1%;
}

.about__dynamic__diagonal2 {
    left: 9%;
}

.about__dynamic__diagonal3 {
    left: 17%;
}

.about__dynamic__diagonal4 {
    left: 25%;
}

.about__dynamic__diagonal5 {
    left: 33%;
}

.about__dynamic__diagonal6 {
    left: 41%;
}

.about__dynamic__diagonal7 {
    left: 49%;
}

.about__dynamic__diagonal8 {
    left: 57%;
}

.about__dynamic__diagonal9 {
    left: 65%;
}

.about__dynamic__diagonal10 {
    left: 73%;
}

.about__dynamic__diagonal11 {
    left: 81%;
}


.line-diagonal__blue {
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: absolute;
    z-index: 2;

    &:before {
        content:"";
        position: absolute;
        width:3px;
        background: $blue;
        height: 40px;
        transform: skew(45deg) translateX(31px);
    }
}

.about__letter {
    position: absolute;
    top: 50%;
    left: 38%;
    transform: translate(42px, 50px);
}

.letter__segmentedA {
    left: 27%;
}

.letter__segmentedB {
    left: 51%;
    transform: translate(32px, 50px);
}


.bg__people--highlight {
    opacity: 0;
    transition: opacity .25s;
    
    .bg-wrapper.active & {
        opacity: 1;
    }
}

.about__end--wrapper {
    width: 900px;
    height: 900px;

}


.about__end--circle {
    width: 0;
    height: 0; 
    border-radius: 50%;
    background: #061e32;
    overflow: hidden;

    &:after {
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        border: 10px solid $white;
        border-radius: 50%;
        opacity: .6;
        pointer-events: none;
    }
}

.scene-static {
    position: relative;
    width: 100%;
    height: 100%;
}

.home-bg {
    position: absolute;
    width: 150%;
    padding-bottom: 150%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: radial-gradient(#182a39, #000000);
}

.about__end--bubble {
    position: absolute;
    transform: translate(-50%, -50%);
    background: rgba(#0074c8, .5);
    border-radius: 50%;
    overflow: hidden;
    text-align: center;
    text-transform: uppercase;
    font-size: 16px;
    opacity: .2;
    transition: opacity .2s;
 
    white-space: nowrap;
}

.bubble__email {
    top: 144px;
    left: 160px;
}

.bubble__website {
    top: 768px;
    left: 202px;
}

.bubble__mobile {
    top: 288px;
    left: 10px;
    opacity: 1;
}

.bubble__agent {
    top: 594px;
    left: 52px;
}

.bubble__video {
    top: 196px;
    left: 800px;
}

.bubble__social {
    top: 356px;
    left: 852px;
    opacity: 1;
}

.bubble__tradeshow {
    top: 628px;
    left: 832px;
    white-space: normal !important;
    opacity: 1;

}

.bubble__seo {
    top: 782px;
    left: 656px;
}


.video-wrapper {
    position: absolute;
    opacity: .6;
}

.video-copy {
    position: absolute;
    width: 100%;
    height: 100%;

    img {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
    
        &.video-title {
            top: 50%;
            transform: translate(-50%, -50%);
            opacity: 1;
        }
    }
}


.end-button {
    cursor: pointer;
}

.lines-end-wrapper{
    z-index: 5;
    pointer-events: none;
    position: absolute;

}

.about__end--wrapper {

    &.mobileToAgent {
        .bubble__agent {
            opacity: 1;
        }
        .line-end-3 {
            stroke-dashoffset: 0;
        }
    }

    &.mobileToVideo {
        .bubble__video {
            opacity: 1;
        }
        .line-end-4 {
            stroke-dashoffset: 0;
        }
    }

    &.agentToVideo {

        .bubble__video {
            opacity: 1;
        }

        .line-end-1, .line-end-3 {
            stroke-dashoffset: 0;
        }

        &.mobileToAgent {

            .line-end-3 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }

        }
    }

    &.videoToSeo {
        .bubble__seo {
            opacity: 1;
        }
        .line-end-5, .line-end-4 {
            stroke-dashoffset: 0;
        }

        &.mobileToVideo {
            .line-end-4 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }

        }
    }


    &.seoToMobile {
        .bubble__mobile {
            opacity: 1;
        }

        .line-end-2, .line-end-5, .line-end-4 {
            stroke-dashoffset: 0;
        }

        &.videoToSeo {
            .line-end-5 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }

        }
    }

    &.mobileToEmail {
        .bubble__email {
            opacity: 1;
        }

        .bubble__website, .bubble__agent{
            opacity: .2;
        }

        .line-end-9, .line-end-2, .line-end-5, .line-end-4 {
            stroke-dashoffset: 0;
        }

        &.websiteToMobile, &.agentToVideo {
            .line-end-8, .line-end-1 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }
        }
    }

    &.emailToWebsite {
        .bubble__website {
            opacity: 1;
        }

        .bubble__seo, .bubble__video  {
            opacity: .2;
        }

        .line-end-10, .line-end-9, .line-end-2, .line-end-5, .line-end-4 {
            stroke-dashoffset: 0;
        }

        &.mobileToEmail {
            .line-end-9 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }
        }

        &.seoToMobile {
            .line-end-2 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }
        }
    }

    
    &.socialToWebsite {
        .bubble__website {
            opacity: 1;
        }
        .line-end-6, .line-end-7 {
            stroke-dashoffset: 0;
        }
    }

    &.websiteToMobile {
        .bubble__mobile {
            opacity: 1;
        }

        .bubble__social {
            opacity: .2;
        }

        .line-end-8 {
            stroke-dashoffset: 0;
        }

        &.socialToWebsite {
            .line-end-6, .line-end-7 {
                stroke-dashoffset: -900px;
                &.reverse-dir {
                    stroke-dashoffset: 900px;
                }
            }
        }
    }

    

    &.endBubbleLines {
        .bubble__mobile, .bubble__email, .bubble__website {
            opacity: 1;
        }
        .bubble__tradeshow, .bubble__social, .bubble__video, .bubble__seo, .bubble__agent  {
            opacity: .2;
        }

     
        .line-end-1, .line-end-2, .line-end-3, .line-end-4, .line-end-5, .line-end-6, .line-end-7, .line-end-8, .line-end-9, .line-end-10 {
            stroke-dashoffset: -900px !important;
            &.reverse-dir {
                stroke-dashoffset: 900px !important;
            }
        }
        
    }

}

.lines-end-svg {
    opacity: .5;
}

.line-end {
    stroke: $white;
    fill: none;
    vector-effect: non-scaling-stroke;
    stroke-dasharray: 900px;
    stroke-dashoffset: 900px;
    transition: all .5s;

    &.reverse-dir {
        stroke-dashoffset: -900px;
    }
}

.showEndLines1 {
    position: absolute;
    top: 224px;
    left: 52px;
    
}

.showEndLines2 {
    position: absolute;
    top: 372px;
    left: 224px;
}

.showEndLines3 {
    position: absolute;
    top: 180px;
    left: 54px;
}


